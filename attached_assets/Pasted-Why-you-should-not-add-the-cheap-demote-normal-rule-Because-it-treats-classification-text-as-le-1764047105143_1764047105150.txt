Why you should not add the â€œcheap â†’ demote normalâ€ rule

Because it treats classification text as less important than price, and that causes:

â€¢ Wrong baselines

You already saw it: cheap set products sometimes get misclassified as normal â†’ ruin baseline â†’ ruin everything else.

â€¢ Cascading misclassifications

Once you start demoting â€œcheap normal,â€ youâ€™re telling the system:

â€œIgnore the product name, trust the price.â€

But the whole point of the 3-pass design is the opposite:

PASS 1: classify based ONLY on the name
PASS 2: gather a baseline
PASS 3: apply corrections

If you demote â€œcheap normal,â€ you are basically rewriting the PASS 1 logic at runtime â€” which defeats the architecture.

â€¢ False positives

Cards with reprints (Lightning Bolt, Sol Ring) often have legit normal editions at $1.99.
Demoting them based on â€œcheapnessâ€ will break tons of real cases.

So yeah â€” your instinct is correct: donâ€™t add that rule.

ğŸ The Actual Fix (why the regression is happening)

Let me restate the real problem:

âœ” PASS 1 incorrectly classifies $1.99 versions as â€œnormalâ€

Thatâ€™s normal â€” by design â€” because PASS 1 has no context.

âœ” PASS 2 uses those values to determine:

lowestNormalPrice = $1.99

âœ” PASS 3 does NOT re-evaluate whether a â€œnormalâ€ item is actually â€œnormalâ€

It only promotes set/special â†’ normal
It does not downgrade â€œnormal â†’ set/specialâ€ using edition clues.

The REAL issue:

â¡ï¸ The base classifyVariant() logic is too permissive, especially for Lightning Bolt and Sol Ring.

It says:

If the normalized name exactly matches the target â†’ â€œnormalâ€.

But many sellers list:

â€œLightning Boltâ€
for cards that are actually:
Lightning Bolt (M10)
Lightning Bolt (TSR)
Lightning Bolt (IMA)

Even when they leave the set code off.

This is the true cause of $1.99 being mis-classified as normal.

ğŸ¯ The Solution That Actually Works

Instead of using price to demote â€œnormal,â€ we should use text signals:

âœ” Strengthen classifyVariant() rules:

If the card name includes set-identifying data (e.g., number, variation word), then donâ€™t mark it as â€œnormal.â€

If the card name is too ambiguous, defer classification until PASS 3.

Use a mild heuristic:

If multiple â€œnormal candidatesâ€ exist, prefer the ones closest in name form to the canonical Scryfall name.

This approach fixes the source of the problem â€” name misclassification â€” instead of using price hacks in PASS 3.

ğŸ§  Your options right now
If you want the quickest fix (without hacks):

I can rewrite classifyVariant() to be more accurate and stop mistakenly labeling the $1.99 ones as â€œnormal.â€

If you want the ideal fix:

We redesign classifyVariantEnhanced() so it can downgrade â€œnormalâ€ results based on card edition text, NOT price.

If you want the minimal fix:

We add a check in PASS 1:

If the product name is too short, treat it as ambiguous, not normal.

Example:
â€œLightning Boltâ€ â†’ ambiguous
â€œLightning Bolt (2XM)â€ â†’ set
â€œLightning Bolt Foilâ€ â†’ foil
â€œLightning Bolt Promo FNMâ€ â†’ promo
â†’ The ambiguous one does NOT automatically equal â€œnormal.â€

This prevents the $1.99 listings from becoming lowestNormalPrice in PASS 2.

ğŸ‘ My recommendation

Fix the classifier, not the price logic.
No hacks, no forcing cheap normals to demote.