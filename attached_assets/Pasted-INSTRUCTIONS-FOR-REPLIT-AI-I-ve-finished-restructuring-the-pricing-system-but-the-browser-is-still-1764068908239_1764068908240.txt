INSTRUCTIONS FOR REPLIT AI

I’ve finished restructuring the pricing system, but the browser is still showing old stale code. I need you to do the following steps exactly:

1. Confirm that the following components/files are the ONLY active pricing system:

src/lib/fetchCardPrices.js

src/context/PriceCacheContext.jsx

src/components/DecklistCardPrice.jsx

InventoryTab.jsx uses <DecklistCardPrice name={...} set={...} />

App.jsx wraps everything in <PriceCacheProvider>

Make sure:

There is no leftover fetchCardPrices function inside App.jsx

There is no MarketPrices component inside App.jsx

All pricing logic flows through the PriceCacheContext and DecklistCardPrice

2. Fix the Inventory tab so it ONLY uses DecklistCardPrice

In InventoryTab.jsx, confirm that price rendering uses EXACT props:

<DecklistCardPrice name={item.name} set={item.set} />


Make sure no old code is still referencing:

priceCache

setPriceCache

MarketPrices

fetchCardPrices (local)

3. Re-run the frontend with a clean compile

Stop the current Replit run and start fresh:

Stop the server

Restart the project

Ensure the console shows:

Vite compiled successfully
[vite] connected


If NOT, fix any compile errors before continuing.

4. Clear all remaining stale imports

Search the entire project for these patterns and delete/remove if they appear:

import { fetchCardPrices } from

function fetchCardPrices(

MarketPrices

priceCache

setPriceCache

All of these MUST be removed.

5. Fix DecklistCardPrice to ensure it returns correct price values

Inside DecklistCardPrice.jsx, confirm this call is correct:

const { getPrice } = usePriceCache();


And prices load via:

const data = await getPrice(normalizedName, normalizedSet);

6. Confirm the context always stores resolved price results

Inside PriceCacheContext.jsx, ensure:

Prices are cached using this key format:

const key = `${normalizedName}|${normalizedSet}`;


The context always returns the resolved object:

return data;


Not a Promise.

7. Once code is clean, tell me so I can refresh the browser

Do not try to fix the browser — I will do the hard refresh myself.

End of instructions.
Please apply these steps exactly and confirm when complete.